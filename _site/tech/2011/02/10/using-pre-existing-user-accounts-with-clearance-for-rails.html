








<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<meta name="description" content="Freelance web developer. Aspiring philosopher-farmer." />

	<title>Using Pre-Existing User Accounts with Clearance for Rails &#9733; Sumeet Jain</title>

	<link rel="alternate" type="application/rss+xml" title="Subscribe to Everything" href="/atom.xml" />
	<link rel="alternate" type="application/rss+xml" title="&#8250; Subscribe to Journal only" href="/journal/atom.xml" />
	<link rel="alternate" type="application/rss+xml" title="&#8250; Subscribe to Tech Writings only" href="/tech/atom.xml" />
	<link rel="alternate" type="application/rss+xml" title="&#8250; Subscribe to Photos only" href="/photos/atom.xml" />
	
	<link rel="stylesheet" href="/css/global.css" type="text/css" media="screen" title="Sumeet Jain" charset="utf-8" />
	<link rel="stylesheet" href="/css/syntax.css" type="text/css" media="screen" charset="utf-8" />
	<link rel="stylesheet" href="/css/shadowbox.css" type="text/css" media="screen" charset="utf-8" />
	
	<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-12933095-9']);
_gaq.push(['_trackPageview']);
(function() {
	var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>
</head>

<body>
	<div id="bio">
		<a href="/" id="name">Sumeet Jain</a>
		<ul class="clearfix">
			<li id="lastfm"><a href="http://last.fm/user/sumeetjain" title="Last.fm">Last.fm</a></li>
			<li id="flickr"><a href="http://flickr.com/photos/sumeetjain" title="Flickr">Flickr</a></li>
			<li id="github"><a href="http://github.com/sumeetjain" title="GitHub">GitHub</a></li>
			<li id="twitter"><a href="http://twitter.com/sumeetjain" title="Twitter">Twitter</a></li>
		</ul>
	</div>
	
	<div id="links">
		<ul id="extras" class="navList">
			<li><a href="/about">About me</a></li>
		</ul>
		
		<ul id="categories" class="navList">
			<li><a href="/journal" title="Writing on various subjects">Journal</a></li>
			<li><a href="/tech" title="Tech-oriented blog">Tech Writings</a></li>
			<li><a href="/photos" title="My photo blog">Photos</a></li>
		</ul>

		<ul id="services" class="navList">
			<li><a href="mailto:hello@sumeetjain.com">Email me</a></li>
			<li><a href="/atom.xml" title="Get notified when the site is updated">Subscribe to RSS</a></li>
			<li><a href="http://feedburner.google.com/fb/a/mailverify?uri={{feedburner_slug}}" title="Get notified by email when the site is updated">Subscribe by Email</a></li>
		</ul>
	</div>
	
	<div id="content" class="clearfix">
		








<ul id="listing" class="navList">

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
			
		
	
	
	
		<li class="currentPost"><a href="/tech/2011/02/10/using-pre-existing-user-accounts-with-clearance-for-rails.html">Using Pre-Existing User Accounts with Clearance for Rails</a></li>
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
		
			
		
	
	
	
		<li class=""><a href="/journal/tech/2011/01/10/on-the-chinese-mothers-controversy.html">On the "Chinese Mothers" Controversy</a></li>
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
		
			
		
	
	
	
		<li class=""><a href="/journal/tech/2010/11/15/traveling-with-technology.html">Traveling with Technology</a></li>
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
			
		
	
	
	
		<li class=""><a href="/tech/2010/09/16/first-fork.html">First Fork</a></li>
	

	
	
	
		
	
		
			
		
	
	
	
		<li class=""><a href="/journal/tech/2010/02/10/homework-blogging.html">Homework Blogging</a></li>
	

	
	
	
		
	
		
			
		
	
	
	
		<li class=""><a href="/journal/tech/2010/01/27/real-quick-my-thoughts-on-apples-ipad.html">Real quick, my thoughts on Apple's iPad</a></li>
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
		
			
		
	
	
	
		<li class=""><a href="/journal/tech/2009/02/28/mommy-where-do-websites-come-from.html">Mommy, where do websites come from?</a></li>
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
		
			
		
	
	
	
		<li class=""><a href="/journal/tech/2008/12/24/create-and-consume.html">Create and Consume</a></li>
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
		
			
		
	
	
	
		<li class=""><a href="/journal/tech/2008/12/09/kallow-single-product-recommendations.html">Kallow - Single Product Recommendations</a></li>
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

	
	
	
		
	
	
	

</ul>

<div id="post" class="techCategory">
	<div id="intro">
		
			<a class="backLink" href="/tech" title="Return to index">
				
					Tech Writings
				
			</a>
			
			
		 

		&#9733; Subscribe: <a class="subscribe" href="/atom.xml">All</a> | 
		
		
			
				<a class="subscribe" href="/tech/atom.xml">Tech Writings</a>
			
			
			 
		
	</div>
	
	<div id="postNav">
		<span class="date">10 Feb 2011</span>
	</div>
	
	<h1><a href="/tech">Using Pre-Existing User Accounts with Clearance for Rails</a></h1>
	<p>In order to teach myself Ruby on Rails, I&#8217;m converting one of my old PHP apps into a Rails app. I&#8217;m using the <a href='#foo'>Clearance</a> gem for Rails, which makes user authentication very easy. Clearance installs a <code>user</code> table, creates views for sign up and login (as well as for &#8220;forgot password&#8221;), and adds relevant functions for an app that needs basic user authentication. It&#8217;s very handy.</p>

<p>I had a few hundred accounts in the <code>user</code> table for my PHP app, and I didn&#8217;t want to lose them in the new Rails app. I added the records to the table made by Clearance without any trouble. But when I tried to log in on the Rails app using a pre-existing username/password combination, my attempt failed.</p>

<h2 id='problem_1__different_encryption_hashing'>Problem #1 - Different Encryption Hashing</h2>

<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

<h2 id='problem_2__different_salt_format'>Problem #2 - Different Salt Format</h2>

<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

<h2 id='problem_3__no_'>Problem #3 - No <code>remember_token</code></h2>

<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
	
	<div id="postActions">
		
	











<div id="share">
	<a href="http://twitter.com/share" class="twitter-share-button" data-count="none" data-via="sumeetjain">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
	<iframe src="http://www.facebook.com/plugins/like.php?href=http://sumeetjain.com/tech/2011/02/10/using-pre-existing-user-accounts-with-clearance-for-rails.html&amp;layout=button_count&amp;show_faces=false&amp;width=130&amp;action=like&amp;colorscheme=light&amp;height=21" scrolling="no" frameborder="0" style="border:none; overflow:visible; width:88px; height:20px; margin-left: 3px;" allowTransparency="true"></iframe>
</div>
		
		
		
		
	</div>
</div>
	</div>
	
	<script type="text/javascript" charset="utf-8" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
	<script type="text/javascript" charset="utf-8" src="/js/jquery.markdownFootnotes.min.js"></script>
	<script type="text/javascript" charset="utf-8" src="/js/shadowbox.js"></script>
	
	<script type="text/javascript">
	Shadowbox.init();
	
	$('.what_i_do a').hover(function() {
		$(this).children("img").animate({ left : "-10px" }, 150);            
	}, function() {
		$(this).children("img").animate({ left : "0px" }, 150);
	});
	</script>
</body>
</html>